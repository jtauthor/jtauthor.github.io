(function(){function t(t,n,r,i,s){var o=this,u=n,a=document.getElementById(t),f=a?a.innerHTML:t,s=s!=undefined?s:true,l=[],c=function(){},h=function(e){return e.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},p=function(e,t){return new Function(k,"var mTpl_htmlEncode="+h.toString()+";\n var s='';\n s+='"+t+"';\n return s")},d=function(e,t){var n=e,r=function(e){if(t.indexOf(e)>-1){return r(e+n)}return e};return r(n)},v=function(e){return e.replace(new RegExp(y,"g"),"\r").replace(new RegExp(b,"g"),"\n").replace(/mTpl_comment\d+;/g,function(e){var t=e.slice(12,e.length-1);return m[t]})},m={length:0},g=d("L",f),y=d("R",f),b=d("N",f);if(s&&e[t]){for(var w=0,E=e[t].propList,S=E.length;w<S;w++){l.push(u[E[w]])}c=e[t].parsefn}else{var x=r,T=i;if(!f){return""}if(!x||!T){x="<"+"%";T="%"+">"}if(!(f.indexOf(x)>-1&&f.indexOf(T)>-1)){return f}var N=function(e,t){var n=t?"\n":"";y=t?"":y;b=t?"":b;var r=function(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}(T),i=new RegExp(g+"(?:(?!"+r+")[\\s\\S])*"+r+"|('+)","g");return f.replace(/<!--(?:(?!-->)[\s\S])*-->/g,function(e){var t=m.length++;m[t]=e;return"mTpl_comment"+t+";"}).split("\\").join("\\\\").replace(/[\r]/g,y).replace(/[\n]/g,b).split(x).join(g).replace(i,function(e,t){return t?(new Array(t.length+1)).join("\r"):e}).replace(new RegExp(g+"=(.*?)"+T,"g"),"';"+n+" s+=mTpl_htmlEncode(String($1));"+n+" s+='").split(g).join("';"+n).split(T).join(n+" s+='").split("\r").join("\\'")};var C,k=[];for(C in u){k.push(C);l.push(u[C])}c=p(k,N(t));s&&(e[t]={parsefn:c,propList:k})}var L;try{L=c.apply(o,l)}catch(A){c=p(k,N(t,true));L=c.apply(o,l)}return v(L)}var e={};typeof exports!="undefined"?exports.mTpl=t:window.mTpl=t})();